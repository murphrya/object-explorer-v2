<div id="objects" class="col-md-6 ">
  <h4 class="text-primary"><span class="glyphicon glyphicon-file"></span> Objects <small> - <%= session[:s3bucket] %></small></h4>
  <table class="table table-striped table-condensed table-bordered table-hover">
    <tr>
      <th> </th>
      <th>Name</th>
      <th>Size (KB)</th>
      <th>Type</th>
      <th>Last Modified</th>
    </tr>
    <% @objects_array.each do |objects_hash| %>
      <tr>
        <td>
          <% if @objects_array[0][:name] != ''%>
          <!-- Single button -->
          <div class="btn-group">
            <button type="button" class="btn btn-primary dropdown-toggle btn-xs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Actions<span class="caret"></span></button>
              <ul class="dropdown-menu">
                <li><%= link_to "Download Object", :controller => "s3", :action => "downloadS3Object", :object => {:name => objects_hash[:name]} %></li>
                <li><%= link_to "Delete Object", remote: true, :controller => "s3", :action => "deleteS3Object", :object => {:name => objects_hash[:name]} %></li>
              </ul>
            </div>

            <% end %>
        </td>
        <td><%= objects_hash[:name] %></td>
        <td><%= objects_hash[:size] %></td>
        <td><%= objects_hash[:type] %></td>
        <td><%= objects_hash[:last_mod] %></td>
      </tr>
    <% end %>
    </table>
    <%= link_to 'Refresh', { :controller => "s3", :action => "testS3Connection"}, :class=>'btn btn-default btn-sm', :remote => true %>
    
    <a href='' data-toggle="modal" data-target="#uploadS3ObjectsModal" class='btn btn-primary btn-sm'>Upload Object</a>
</div>
